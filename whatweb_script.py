# Python script to use Whatweb to collect information about the version and services that runs in a website, such as HTTP, Apache and PHO


# Import the necessary library


import subprocess

def run_whatweb(target_ip):
    # Whateb Linux command
    command = f"sudo whatweb {target_ip}"

    try:
        # Run the process and captures the output
        result = subprocess.run(command, shell=True, capture_output=True, text=True, check=True)

        # Print the output
        print(result.stdout)

    except subprocess.CalledProcessError as e:
        # Handle erros if the whatweb command fails
        print(f"Error executing whatweb: {e}")
        print(f"Command output:\n{e.stdout}")
        print(f"Command error:\n{e.stderr}")

if __name__ == "__main__":

    # Target range
    target_ip = "192.168.0.2"

    # Run the whatweb function
    run_whatweb(target_ip)


