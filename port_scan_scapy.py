# We will use Scapy to scan for open ports in the range of the Nice IP adress

# Scapy is a powerful packet manipulation library for network scanning and analysis. It allows to craft and decode packets.


# Import of necessary library

from scapy.all import *

def port_scan():
    # Target IP
    target_ip = "192.168.0.2"
    # Ports range
    ports_to_scan = range(1, 9999)

    for port in ports_to_scan:
        result = sr1(IP(dst=target_ip) / TCP(dport=port, flags="S"), timeout=1, verbose=0)
        if result and result.haslayer(TCP) and result[TCP].flags == 18:
            print(f"Port {port} is open.")

# Call port_scan function to run the script
port_scan()
