import subprocess

def nmap_scan(target_ip):
    try:
        # Run nmap command and capture output
        command = f"nmap -A -T4 -p- {target_ip}"
        result = subprocess.run(command, shell=True, capture_output=True, text=True, check=True)

        # Print the output
        print(result.stdout)

    except subprocess.CalledProcessError as e:
        # Handle errors if the nmap command fails
        print(f"Error executing nmap: {e}")
        print(f"Command output:\n{e.stdout}")
        print(f"Command error:\n{e.stderr}")

if __name__ == "__main__":
    # Replace '192.168.0.1' with the target IP and '1-1024' with the desired port range
    target_ip = '192.168.0.2'

    # Call the nmap_scan function
    nmap_scan(target_ip)

